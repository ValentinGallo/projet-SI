{"ast":null,"code":"var _jsxFileName = \"D:\\\\Cours\\\\Master\\\\SI\\\\Projet\\\\projetSI\\\\projet-SI\\\\app\\\\src\\\\Components\\\\Connexion\\\\Connexion.js\";\n//Rien d'intéressant ici du pur affichage html/css\nimport React from 'react';\nimport API from '../../utils/API'; //PAS FINI\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Connexion extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      identifiant: '',\n      motDePasse: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    API.afficherUsers().then(response => response.json()).then(response => this.setState({\n      isLoaded: true,\n      items: response\n    })).catch(err => console.error(err));\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    API.postUser(this.state.identifiant, this.state.motDePasse).then(response => response.json()).then(response => alert('L\\'utilisateur : ' + this.state.identifiant + ' a été enregistré, réponse du serveur : ' + response)).catch(err => console.error(err));\n    event.preventDefault();\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      items\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Erreur : \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 18\n      }, this);\n    } else if (isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Chargement\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 18\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [item.id, \" \", item.identifiant, \" \", item.motDePasse, \" \", item.idRole]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Identifiant :\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"identifiant\",\n              type: \"text\",\n              value: this.state.identifiant,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Mot De Passe :\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"motDePasse\",\n              type: \"text\",\n              value: this.state.motDePasse,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Envoyer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this);\n    }\n  }\n\n}\n\nexport default Connexion;","map":{"version":3,"sources":["D:/Cours/Master/SI/Projet/projetSI/projet-SI/app/src/Components/Connexion/Connexion.js"],"names":["React","API","Connexion","Component","constructor","props","state","error","isLoaded","items","identifiant","motDePasse","handleChange","bind","handleSubmit","componentDidMount","afficherUsers","then","response","json","setState","catch","err","console","event","target","name","value","postUser","alert","preventDefault","render","message","map","item","id","idRole"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,iBAAhB,C,CAEA;;;;AAEA,MAAMC,SAAN,SAAwBF,KAAK,CAACG,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXC,MAAAA,QAAQ,EAAE,KAFC;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,WAAW,EAAE,EAJF;AAKXC,MAAAA,UAAU,EAAE;AALD,KAAb;AAOA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AACdd,IAAAA,GAAG,CAACe,aAAJ,GACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEMC,QAAQ,IAAI,KAAKE,QAAL,CAAc;AAACZ,MAAAA,QAAQ,EAAE,IAAX;AAAiBC,MAAAA,KAAK,EAAES;AAAxB,KAAd,CAFlB,EAGCG,KAHD,CAGOC,GAAG,IAAIC,OAAO,CAAChB,KAAR,CAAce,GAAd,CAHd;AAIL;;AAEDV,EAAAA,YAAY,CAACY,KAAD,EAAQ;AAClB,SAAKJ,QAAL,CAAc;AACZ,OAACI,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AADtB,KAAd;AAGD;;AAEDb,EAAAA,YAAY,CAACU,KAAD,EAAQ;AAClBvB,IAAAA,GAAG,CAAC2B,QAAJ,CAAa,KAAKtB,KAAL,CAAWI,WAAxB,EAAqC,KAAKJ,KAAL,CAAWK,UAAhD,EACCM,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEMC,QAAQ,IAAIW,KAAK,CAAC,sBAAsB,KAAKvB,KAAL,CAAWI,WAAjC,GAA+C,0CAA/C,GAA0FQ,QAA3F,CAFvB,EAGCG,KAHD,CAGOC,GAAG,IAAIC,OAAO,CAAChB,KAAR,CAAce,GAAd,CAHd;AAKAE,IAAAA,KAAK,CAACM,cAAN;AACD;;AAENC,EAAAA,MAAM,GAAG;AACF,UAAM;AAAExB,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA;AAAnB,QAA6B,KAAKH,KAAxC;;AACA,QAAIC,KAAJ,EAAW;AACT,0BAAO;AAAA,gCAAeA,KAAK,CAACyB,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEO,IAAIxB,QAAJ,EAAc;AACnB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFM,MAEA;AACL,0BACE;AAAA,gCACA;AAAA,oBACGC,KAAK,CAACwB,GAAN,CAAUC,IAAI,iBACb;AAAA,uBACGA,IAAI,CAACC,EADR,OACaD,IAAI,CAACxB,WADlB,OACgCwB,IAAI,CAACvB,UADrC,OACkDuB,IAAI,CAACE,MADvD;AAAA,aAASF,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA,kBADD;AADH;AAAA;AAAA;AAAA;AAAA,gBADA,eAQA;AAAM,UAAA,QAAQ,EAAE,KAAKrB,YAArB;AAAA,kCACA;AAAA,qDAEE;AAAO,cAAA,IAAI,EAAC,aAAZ;AAA0B,cAAA,IAAI,EAAC,MAA/B;AAAsC,cAAA,KAAK,EAAE,KAAKR,KAAL,CAAWI,WAAxD;AAAqE,cAAA,QAAQ,EAAE,KAAKE;AAApF;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAKA;AAAA,sDAEE;AAAO,cAAA,IAAI,EAAC,YAAZ;AAAyB,cAAA,IAAI,EAAC,MAA9B;AAAqC,cAAA,KAAK,EAAE,KAAKN,KAAL,CAAWK,UAAvD;AAAmE,cAAA,QAAQ,EAAE,KAAKC;AAAlF;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBALA,eASA;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,kBATA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAsBD;AACF;;AAlEiC;;AAqExC,eAAeV,SAAf","sourcesContent":["//Rien d'intéressant ici du pur affichage html/css\r\nimport React from 'react';\r\nimport API from '../../utils/API';\r\n\r\n//PAS FINI\r\n\r\nclass Connexion extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          error: null,\r\n          isLoaded: false,\r\n          items: [],\r\n          identifiant: '',\r\n          motDePasse: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n      }    \r\n\r\n      componentDidMount() {       \r\n            API.afficherUsers()\r\n            .then(response => response.json())\r\n            .then(response => this.setState({isLoaded: true, items: response}))\r\n            .catch(err => console.error(err));\r\n      }\r\n\r\n      handleChange(event) {\r\n        this.setState({\r\n          [event.target.name]: event.target.value\r\n        });\r\n      }\r\n\r\n      handleSubmit(event) {\r\n        API.postUser(this.state.identifiant, this.state.motDePasse)\r\n        .then(response => response.json())\r\n        .then(response => alert('L\\'utilisateur : ' + this.state.identifiant + ' a été enregistré, réponse du serveur : '+response))\r\n        .catch(err => console.error(err));\r\n\r\n        event.preventDefault();\r\n      }\r\n\r\n\trender() {\r\n        const { error, isLoaded, items } = this.state;\r\n        if (error) {\r\n          return <div>Erreur : {error.message}</div>;\r\n        } else if (isLoaded) {\r\n          return <div>Chargement…</div>;\r\n        } else {\r\n          return (\r\n            <div>\r\n            <ul>\r\n              {items.map(item => (\r\n                <li key={item.id}>\r\n                  {item.id} {item.identifiant} {item.motDePasse} {item.idRole}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <form onSubmit={this.handleSubmit}>\r\n            <label>\r\n            Identifiant :\r\n              <input name=\"identifiant\" type=\"text\" value={this.state.identifiant} onChange={this.handleChange} />\r\n            </label>\r\n            <label>\r\n            Mot De Passe :\r\n              <input name=\"motDePasse\" type=\"text\" value={this.state.motDePasse} onChange={this.handleChange} />\r\n            </label>\r\n            <input type=\"submit\" value=\"Envoyer\" />\r\n          </form>\r\n          </div>\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\nexport default Connexion;"]},"metadata":{},"sourceType":"module"}