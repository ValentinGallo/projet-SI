{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\valen\\\\Documents\\\\projet-SI\\\\app\\\\src\\\\Components\\\\GestionUser\\\\UserForm.js\";\n//Rien d'intéressant ici du pur affichage html/css\nimport React from 'react';\nimport API from '../../utils/API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      identifiant: '',\n      motDePasse: '',\n      roles: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    API.afficherUsers().then(response => response.json()).then(response => this.setState({\n      isLoaded: true,\n      items: response\n    })).catch(err => console.error(err));\n    API.afficherRoles().then(response => response.json()).then(response => this.setState({\n      roles: response\n    })).catch(err => console.error(err));\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    API.postUser(this.state.identifiant, this.state.motDePasse).then(response => response.json()).then(response => alert('L\\'utilisateur : ' + this.state.identifiant + ' a été enregistré, réponse du serveur : ' + response)).catch(err => console.error(err));\n    event.preventDefault();\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Erreur : \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 14\n      }, this);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Chargement\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"contenair mt-5 mb-3\",\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-label\",\n            children: [\"Identifiant :\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"identifiant\",\n              class: \"form-control\",\n              type: \"text\",\n              value: this.state.identifiant,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-label\",\n            children: [\"Mot De Passe :\", /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"form-control\",\n              name: \"motDePasse\",\n              type: \"text\",\n              value: this.state.motDePasse,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"form-select\",\n            \"aria-label\": \"Default select example\",\n            children: this.state.roles.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.id,\n              children: item.nom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 40\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn btn-primary\",\n            children: \"Ajouter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default UserForm;","map":{"version":3,"sources":["C:/Users/valen/Documents/projet-SI/app/src/Components/GestionUser/UserForm.js"],"names":["React","API","UserForm","Component","constructor","props","state","error","isLoaded","items","identifiant","motDePasse","roles","handleChange","bind","handleSubmit","componentDidMount","afficherUsers","then","response","json","setState","catch","err","console","afficherRoles","event","target","name","value","postUser","alert","preventDefault","render","message","map","item","id","nom"],"mappings":"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","sourcesContent":["//Rien d'intéressant ici du pur affichage html/css\r\nimport React from 'react';\r\nimport API from '../../utils/API';\r\n\r\nclass UserForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      items: [],\r\n      identifiant: '',\r\n      motDePasse: '',\r\n      roles:[]\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }    \r\n  \r\n  componentDidMount() {       \r\n    API.afficherUsers()\r\n    .then(response => response.json())\r\n    .then(response => this.setState({isLoaded: true, items: response}))\r\n    .catch(err => console.error(err));\r\n    \r\n    API.afficherRoles()\r\n    .then(response => response.json())\r\n    .then(response => this.setState({roles: response}))\r\n    .catch(err => console.error(err));\r\n  }\r\n  \r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  \r\n  handleSubmit(event) {\r\n    API.postUser(this.state.identifiant, this.state.motDePasse)\r\n    .then(response => response.json())\r\n    .then(response => alert('L\\'utilisateur : ' + this.state.identifiant + ' a été enregistré, réponse du serveur : '+response))\r\n    .catch(err => console.error(err));\r\n    \r\n    event.preventDefault();\r\n  }\r\n  \r\n  render() {\r\n    \r\n    const { error, isLoaded } = this.state;\r\n    if (error) {\r\n      return <div>Erreur : {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <div>Chargement…</div>;\r\n    } else {\r\n      return (\r\n        <div className=\"container\">\r\n        <form className=\"contenair mt-5 mb-3\" onSubmit={this.handleSubmit}>\r\n\r\n        <label  class=\"form-label\">\r\n        Identifiant :\r\n        <input name=\"identifiant\" class=\"form-control\" type=\"text\" value={this.state.identifiant} onChange={this.handleChange} />\r\n        </label>\r\n\r\n        <label  class=\"form-label\">\r\n        Mot De Passe :\r\n        <input class=\"form-control\" name=\"motDePasse\" type=\"text\" value={this.state.motDePasse} onChange={this.handleChange} />\r\n        </label>\r\n\r\n        <select class=\"form-select\" aria-label=\"Default select example\">\r\n        {this.state.roles.map(item => (<option value={item.id}>{item.nom}</option>))}\r\n        </select>\r\n        <button type=\"submit\" class=\"btn btn-primary\">Ajouter</button>\r\n        </form>\r\n        </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n  \r\n  export default UserForm;"]},"metadata":{},"sourceType":"module"}