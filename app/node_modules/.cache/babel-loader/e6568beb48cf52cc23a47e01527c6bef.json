{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\valen\\\\Documents\\\\projet-SI\\\\app\\\\src\\\\Components\\\\Connexion\\\\Connexion.js\";\n//Rien d'intéressant ici du pur affichage html/css\nimport React from 'react';\nimport API from '../../utils/API'; //PAS FINI\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Connexion extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      identifiant: '',\n      motDePasse: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    API.checkUser(this.state.identifiant, this.state.motDePasse).then(response => response.json()).then(response => {\n      if (response.Result !== false && response.Result !== null && response.Result !== undefined) {\n        localStorage.setItem('id', response.id);\n        localStorage.setItem('nomRole', response.nomRole);\n        localStorage.setItem('identifiant', response.identifiant);\n        this.props.history.push(\"/\");\n        alert('L\\'utilisateur : ' + this.state.identifiant + ' est connecté');\n      } else {\n        alert('ALERTE, C\\'EST PAS LE BON MDP');\n      }\n    }).catch(err => console.error(err));\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card\",\n        style: {\n          position: 'absolute',\n          left: '50%',\n          top: '50%',\n          transform: 'translate(-50%, -50%)',\n          width: '40rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            class: \"card-title text-center\",\n            children: \"Connexion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mb-2\",\n                children: \"Identifiant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                class: \"form-control\",\n                name: \"identifiant\",\n                type: \"text\",\n                value: this.state.identifiant,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mb-2\",\n                children: \"Mot De Passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                class: \"form-control\",\n                name: \"motDePasse\",\n                type: \"text\",\n                value: this.state.motDePasse,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"btn btn-primary\",\n              type: \"submit\",\n              value: \"Envoyer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Connexion;","map":{"version":3,"sources":["C:/Users/valen/Documents/projet-SI/app/src/Components/Connexion/Connexion.js"],"names":["React","API","Connexion","Component","constructor","props","state","identifiant","motDePasse","handleChange","bind","handleSubmit","event","setState","target","name","value","checkUser","then","response","json","Result","undefined","localStorage","setItem","id","nomRole","history","push","alert","catch","err","console","error","preventDefault","render","position","left","top","transform","width"],"mappings":"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","sourcesContent":["//Rien d'intéressant ici du pur affichage html/css\r\nimport React from 'react';\r\nimport API from '../../utils/API';\r\n\r\n//PAS FINI\r\n\r\nclass Connexion extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      identifiant: '',\r\n      motDePasse: ''\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }    \r\n  \r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  \r\n  handleSubmit(event) {\r\n    API.checkUser(this.state.identifiant, this.state.motDePasse)\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      if(response.Result !== false && response.Result !== null && response.Result !== undefined)  {\r\n        localStorage.setItem('id', response.id);\r\n        localStorage.setItem('nomRole', response.nomRole);\r\n        localStorage.setItem('identifiant', response.identifiant);\r\n        this.props.history.push(\"/\");\r\n        alert('L\\'utilisateur : ' + this.state.identifiant + ' est connecté')\r\n      }\r\n      else {\r\n        alert('ALERTE, C\\'EST PAS LE BON MDP')\r\n      }\r\n    })\r\n    .catch(err => console.error(err));\r\n    \r\n    event.preventDefault();\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n      <div class=\"card\" style={{position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)',width: '40rem'}}>\r\n      <div class=\"card-body\">\r\n      <h5 class=\"card-title text-center\">Connexion</h5>\r\n      <form onSubmit={this.handleSubmit}>\r\n      <div class=\"form-group\">\r\n      <label className=\"mb-2\">Identifiant</label>\r\n      <input class=\"form-control\" name=\"identifiant\" type=\"text\" value={this.state.identifiant} onChange={this.handleChange} />\r\n      </div>\r\n      <div class=\"form-group\">\r\n      <label className=\"mb-2\">Mot De Passe</label>\r\n      <input class=\"form-control\" name=\"motDePasse\" type=\"text\" value={this.state.motDePasse} onChange={this.handleChange} />\r\n      </div>\r\n      <input class=\"btn btn-primary\" type=\"submit\" value=\"Envoyer\" />\r\n      </form>\r\n      </div>\r\n      </div>\r\n      </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Connexion;"]},"metadata":{},"sourceType":"module"}